<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABhostel - Editar Imóvel</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Nunito&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/cadastro_imovel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<header>
    <div class="logo">
        <a href="index.php"><img src="/assets/imagens/logo.png" alt="Logo ABhostel"></a>
    </div>
    <nav class="menu-desktop">
        <ul class="menu-links">
            <li><a href="index.php">Início</a></li>
            <li><a href="listar_imoveis.php">Imóveis</a></li>
            <li><a href="#" class="active">Editar imóvel</a></li>
        </ul>
        <a href="painel.php" class="btn-login">Voltar ao painel</a>
    </nav>
    <button class="btn open" aria-label="Abrir menu"><i class="fas fa-bars"></i></button>
</header>

<div class="menu-overlay" aria-hidden="true"></div>
<div class="mobile-menu" aria-hidden="true">
    <div class="mobile-links">
        <a href="index.php">Início</a>
        <hr class="divider">
        <a href="/php/listar_imoveis.php">Imóveis</a>
        <a href="/php/anunciar.php">Anuncie seu imóvel</a>
        <hr class="divider">
        <a href="/php/sobre.php">Sobre</a>
        <a href="/php/contato.php">Contato</a>
        <hr class="divider">
        <a href="painel.php" class="login-mobile">Voltar ao painel</a>
    </div>
    <div class="mobile-social">
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
    </div>
</div>

<br><br>

<div class="page-wrapper">
<main class="card">

    <h1>Editar Imóvel</h1>

    {% if mensagem %}
        <p class="msg-sucesso">{{ mensagem }}</p>
    {% endif %}

    <form method="POST" enctype="multipart/form-data">

        <h2 class="section-title">Informações básicas do imóvel</h2>

        <div class="form-group">
            <label for="propertyType">Tipo de imóvel</label>
            <select name="propertyType" id="propertyType" required>
                <option value="">Selecione</option>
                <option value="Casa" {{ imovel.tipo == 'Casa' ? 'selected' }} >Casa</option>
                <option value="Apartamento" {{ imovel.tipo == 'Apartamento' ? 'selected' }} >Apartamento</option>
                <option value="Kitnet" {{ imovel.tipo == 'Kitnet' ? 'selected' }} >Kitnet</option>
                <option value="Suíte" {{ imovel.tipo == 'Suíte' ? 'selected' }} >Suíte</option>
                <option value="Hotel" {{ imovel.tipo == 'Hotel' ? 'selected' }} >Hotel</option>
                <option value="Pousada" {{ imovel.tipo == 'Pousada' ? 'selected' }} >Pousada</option>
                <option value="Chalé" {{ imovel.tipo == 'Chalé' ? 'selected' }} >Chalé</option>
            </select>
        </div>

        <div class="form-group">
            <label for="title">Título do anúncio</label>
            <input type="text" id="title" name="title" maxlength="150" required value="{{ imovel.titulo|e }}">
        </div>

        <div class="form-group">
            <label for="description">Descrição</label>
            <textarea id="description" name="description" maxlength="500" rows="4" required>{{ imovel.descricao|e }}</textarea>
        </div>

        <h2 class="section-title">Localização do imóvel</h2>

        <div class="form-group">
            <label>Cidade</label>
            <input type="text" name="cidade" value="{{ imovel.cidade|e }}">
        </div>

        <div class="form-group">
            <label>Logradouro (rua/avenida)</label>
            <input type="text" name="logradouro" required value="{{ imovel.logradouro|e }}">
        </div>

        <div class="form-group">
            <label>Número</label>
            <input type="text" name="numero" required value="{{ imovel.numero|e }}">
        </div>

        <div class="form-group">
            <label>Complemento (opcional)</label>
            <input type="text" name="complemento" value="{{ imovel.complemento|e }}">
        </div>

        <div class="form-group">
            <label>Bairro</label>
            <input type="text" name="bairro" required value="{{ imovel.bairro|e }}">
        </div>

        <div class="form-group">
            <label>Estado</label>
            <select name="estado" required>
                <option value="">Selecione</option>
                <option value="Acre (AC)" {{ imovel.estado == 'Acre (AC)' ? 'selected' }}>Acre (AC)</option>
                <option value="Alagoas (AL)" {{ imovel.estado == 'Alagoas (AL)' ? 'selected' }}>Alagoas (AL)</option>
                <option value="Amapá (AP)" {{ imovel.estado == 'Amapá (AP)' ? 'selected' }}>Amapá (AP)</option>
                <option value="Amazonas (AM)" {{ imovel.estado == 'Amazonas (AM)' ? 'selected' }}>Amazonas (AM)</option>
                <option value="Bahia (BA)" {{ imovel.estado == 'Bahia (BA)' ? 'selected' }}>Bahia (BA)</option>
                <option value="Ceará (CE)" {{ imovel.estado == 'Ceará (CE)' ? 'selected' }}>Ceará (CE)</option>
                <option value="Espírito Santo (ES)" {{ imovel.estado == 'Espírito Santo (ES)' ? 'selected' }}>Espírito Santo (ES)</option>
                <option value="Goiás (GO)" {{ imovel.estado == 'Goiás (GO)' ? 'selected' }}>Goiás (GO)</option>
                <option value="Maranhão (MA)" {{ imovel.estado == 'Maranhão (MA)' ? 'selected' }}>Maranhão (MA)</option>
                <option value="Mato Grosso (MT)" {{ imovel.estado == 'Mato Grosso (MT)' ? 'selected' }}>Mato Grosso (MT)</option>
                <option value="Mato Grosso do Sul (MS)" {{ imovel.estado == 'Mato Grosso do Sul (MS)' ? 'selected' }}>Mato Grosso do Sul (MS)</option>
                <option value="Minas Gerais (MG)" {{ imovel.estado == 'Minas Gerais (MG)' ? 'selected' }}>Minas Gerais (MG)</option>
                <option value="Pará (PA)" {{ imovel.estado == 'Pará (PA)' ? 'selected' }}>Pará (PA)</option>
                <option value="Paraíba (PB)" {{ imovel.estado == 'Paraíba (PB)' ? 'selected' }}>Paraíba (PB)</option>
                <option value="Paraná (PR)" {{ imovel.estado == 'Paraná (PR)' ? 'selected' }}>Paraná (PR)</option>
                <option value="Pernambuco (PE)" {{ imovel.estado == 'Pernambuco (PE)' ? 'selected' }}>Pernambuco (PE)</option>
                <option value="Piauí (PI)" {{ imovel.estado == 'Piauí (PI)' ? 'selected' }}>Piauí (PI)</option>
                <option value="Rio de Janeiro (RJ)" {{ imovel.estado == 'Rio de Janeiro (RJ)' ? 'selected' }}>Rio de Janeiro (RJ)</option>
                <option value="Rio Grande do Norte (RN)" {{ imovel.estado == 'Rio Grande do Norte (RN)' ? 'selected' }}>Rio Grande do Norte (RN)</option>
                <option value="Rio Grande do Sul (RS)" {{ imovel.estado == 'Rio Grande do Sul (RS)' ? 'selected' }}>Rio Grande do Sul (RS)</option>
                <option value="Rondônia (RO)" {{ imovel.estado == 'Rondônia (RO)' ? 'selected' }}>Rondônia (RO)</option>
                <option value="Roraima (RR)" {{ imovel.estado == 'Roraima (RR)' ? 'selected' }}>Roraima (RR)</option>
                <option value="Santa Catarina (SC)" {{ imovel.estado == 'Santa Catarina (SC)' ? 'selected' }}>Santa Catarina (SC)</option>
                <option value="São Paulo (SP)" {{ imovel.estado == 'São Paulo (SP)' ? 'selected' }}>São Paulo (SP)</option>
                <option value="Sergipe (SE)" {{ imovel.estado == 'Sergipe (SE)' ? 'selected' }}>Sergipe (SE)</option>
                <option value="Tocantins (TO)" {{ imovel.estado == 'Tocantins (TO)' ? 'selected' }}>Tocantins (TO)</option>
                <option value="Distrito Federal (DF)" {{ imovel.estado == 'Distrito Federal (DF)' ? 'selected' }}>Distrito Federal (DF)</option>
            </select>
        </div>

        <h2 class="section-title">Estrutura do imóvel</h2>

        <div class="form-group">
            <label>Quartos</label>
            <input type="number" name="quartos" min="1" required value="{{ imovel.quartos }}">
        </div>

        <div class="form-group">
            <label>Suítes</label>
            <input type="number" name="suites" min="0" value="{{ imovel.suites }}">
        </div>

        <div class="form-group">
            <label>Banheiros</label>
            <input type="number" name="banheiros" min="1" required value="{{ imovel.banheiros }}">
        </div>

        <div class="form-group">
            <label>Capacidade</label>
            <input type="number" name="capacidade" min="1" required value="{{ imovel.capacidade }}">
        </div>

        <h2 class="section-title">O que o imóvel oferece</h2>

        <label><input type="checkbox" name="wifi" {% if imovel.wifi %}checked{% endif %}> Wi-fi</label>
        <label><input type="checkbox" name="ar_condicionado" {% if imovel.ar_condicionado %}checked{% endif %}> Ar-condicionado</label>
        <label><input type="checkbox" name="estacionamento" {% if imovel.estacionamento %}checked{% endif %}> Estacionamento</label>
        <label><input type="checkbox" name="pet_friendly" {% if imovel.pet_friendly %}checked{% endif %}> Pet-friendly</label>
        <label><input type="checkbox" name="piscina" {% if imovel.piscina %}checked{% endif %}> Piscina</label>
        <label><input type="checkbox" name="cozinha" {% if imovel.cozinha %}checked{% endif %}> Cozinha</label>
        <label><input type="checkbox" name="tv" {% if imovel.tv %}checked{% endif %}> TV</label>
        <label><input type="checkbox" name="area_trabalho" {% if imovel.area_trabalho %}checked{% endif %}> Área de trabalho</label>
        <label><input type="checkbox" name="cafe_manha" {% if imovel.cafe_manha %}checked{% endif %}> Café da manhã</label>
        <label><input type="checkbox" name="maquina_lavar" {% if imovel.maquina_lavar %}checked{% endif %}> Máquina de lavar</label>

        <h2 class="section-title">Preço e período</h2>

        <div class="form-group">
            <label>Valor (R$)</label>
            <input type="number" name="valor" required value="{{ imovel.valor }}">
        </div>

        <div class="form-group">
            <label>Tipo de preço</label>
            <select name="tipo_preco" required>
                <option value="noite" {{ imovel.tipo_preco == 'noite' ? 'selected' }}>Por noite</option>
                <option value="semana" {{ imovel.tipo_preco == 'semana' ? 'selected' }}>Por semana</option>
                <option value="mes" {{ imovel.tipo_preco == 'mes' ? 'selected' }}>Por mês</option>
            </select>
        </div>

        <div class="form-group">
            <label>Data de início</label>
            <input type="date" name="data_inicio" required value="{{ imovel.data_inicio }}">
        </div>

        <div class="form-group">
            <label>Data de término</label>
            <input type="date" name="data_termino" required value="{{ imovel.data_termino }}">
        </div>

        <h2 class="section-title">Contato do proprietário</h2>

        <div class="form-group">
            <label>WhatsApp</label>
            <input type="tel" name="whatsapp" required value="{{ imovel.whatsapp|e }}">
        </div>

        <div class="form-group">
            <label>Email (opcional)</label>
            <input type="email" name="email_proprietario" value="{{ imovel.email_proprietario|e }}">
        </div>

        <h2 class="section-title">Fotos do imóvel</h2>

        <div class="form-group">
            <label>Adicionar fotos</label>
            <input type="file" name="fotos[]" multiple accept="image/*">
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-submit">Atualizar anúncio</button>
        </div>

    </form>

</main>
</div>

<script src="/assets/js/menu.js"></script>
</body>
</html>